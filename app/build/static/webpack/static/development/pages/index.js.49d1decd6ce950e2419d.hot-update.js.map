{"version":3,"file":"static/webpack/static/development/pages/index.js.49d1decd6ce950e2419d.hot-update.js","sources":["webpack:///./components/Navbar.js"],"sourcesContent":["import Link from 'next/link';\nimport { Button } from 'react-bootstrap';\nimport Theme from '../components/Theme';\nimport { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport axios from 'axios';\n\n// Hack to work with non-react implementation of Three.js scene\nconst removeCanvas = () => {\n  const canvas = document.getElementsByTagName('canvas')\n\n  document.body.removeChild(canvas[0])\n  document.body.removeChild(window.statsElement)\n}\n\n// TODO - put drop down select with test trials loaded\nconst Navbar = (props) => {\n  const [selectOptions, setSelectOptions] = useState([]);\n  const [selected, setSelected] = useState();\n\n  const selectHandleChange = selectedOption => {\n    setSelected(selectedOption);\n\n    window.location = window.location.origin + `/?trial=${ selectedOption.value }`\n  };\n\n  useEffect(() => {\n    const AVAILABLE_TRIALS_URL = '/api/trials';\n\n    const fetchAvailableTrials = async () => {\n      try {\n        const response = await axios.get(AVAILABLE_TRIALS_URL);\n        const options = response.data.map(trial => {\n          return { value: trial, label: trial };\n        });\n\n        setSelectOptions(options);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    fetchAvailableTrials();\n  }, []);\n\n  const selectWithData = () => {\n    if (!selectOptions.length) {\n      return null;\n    }\n\n    return (\n      <Select\n          value={selected}\n          onChange={selectHandleChange}\n          options={selectOptions}\n        />\n    )\n  }\n\n  return (\n    <div className=\"navbar\">\n      <Link href=\"/upload\">\n        <div className=\"btn btn-primary\">\n          <div onClick={removeCanvas}>\n            Upload Trial Data\n          </div>\n        </div>\n      </Link>\n\n      <div id=\"select-trial\">Select Trial</div>\n\n      {selectWithData()}\n\n    </div>\n  );\n}\n\nexport default Navbar;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAPA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAMA;AACA;AACA;;;;A","sourceRoot":""}